<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style.css">
        <meta charset="utf-8">
        <title>chpoker</title>
    </head>
    <body>
    <script language="javascript">
        const sfxChpok = new Audio("./sfx/pop.mp3");

        var chpoks = 0;
        var mode = 0;
        

        setInterval(auto_chpoker, 1000);

        function auto_chpoker() {
            if (mode == 1) {
                changeImage();
            }
        }

        function switch_mode() {
            if (mode == 0) {
                mode = 1;
            } else {
                mode = 0;
            }
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        function changeImage() {
            sfxChpok.play();

            document.getElementById("imgClickAndChange").src = "./img/1.png";
            setTimeout(() => { document.getElementById("imgClickAndChange").src = "./img/0.png"; }, 100);

            
            document.getElementById("score").innerHTML = chpoks++;
        }
    </script>

    <div class="header">
        <h3>chpoker v0.0.6</h3>
        <button type="button" onclick="switch_mode()">Auto mode</button>
    </div>

    <div>
        <img alt="chpoker" class="chpoker" src="./img/0.png" id="imgClickAndChange" onclick="changeImage()"/>
    </div>

    <div class="score-table">
        number of chpoks: <span id="score" class="score">0</span>
    </div>

    </body>
</html>
